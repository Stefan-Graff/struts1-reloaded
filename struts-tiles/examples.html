<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/xdoc/examples.xml at 2023-12-28
 | Rendered using Apache Maven Fluido Skin 1.12.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Struts Tiles &#x2013; Examples</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.12.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.12.0.min.js"></script>
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="https://www.apache.org/" id="bannerLeft"><img src="../images/asf-logo.png"  alt="Apache Software Foundation" style="" /></a></div>
          <div class="pull-right"><a href="https://struts.apache.org/index.html" id="bannerRight"><img src="../images/struts.png"  alt="Apache Struts" style="" /></a></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-12-28<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.5.0-RC1</li>
        <li class="pull-right"><span class="divider">|</span>
<a href="https://struts.apache.org/index.html" class="externalLink" title="Struts">Struts</a></li>
        <li class="pull-right"><a href="https://www.apache.org/" class="externalLink" title="Apache">Apache</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Struts Tiles</li>
    <li><a href="index.html" title="Welcome"><span class="none"></span>Welcome</a></li>
    <li><a href="faq.html" title="FAQ"><span class="none"></span>FAQ</a></li>
    <li><a href="installation.html" title="Installation"><span class="none"></span>Installation</a></li>
    <li><a href="userGuide.html" title="User Guide"><span class="none"></span>User Guide</a></li>
    <li class="active"><a><span class="none"></span>Creating Templates</a></li>
    <li><a href="tagreference.html" title="Taglib Reference"><span class="none"></span>Taglib Reference</a></li>
   <li class="nav-header">Components</li>
    <li><a href="../struts-apps/index.html" title="Struts Apps"><span class="none"></span>Struts Apps</a></li>
    <li><a href="../struts-core/index.html" title="Struts Core"><span class="none"></span>Struts Core</a></li>
    <li><a href="../struts-el/index.html" title="Struts EL"><span class="none"></span>Struts EL</a></li>
    <li><a href="../struts-extras/index.html" title="Struts Extras"><span class="none"></span>Struts Extras</a></li>
    <li><a href="../struts-faces/index.html" title="Struts Faces"><span class="none"></span>Struts Faces</a></li>
    <li><a href="../struts-scripting/index.html" title="Struts Scripting"><span class="none"></span>Struts Scripting</a></li>
    <li><a href="../struts-taglib/index.html" title="Struts Taglib"><span class="none"></span>Struts Taglib</a></li>
    <li><a href="../struts-tiles/index.html" title="Struts Tiles"><span class="none"></span>Struts Tiles</a></li>
    <li><a href="../struts-tiles2/index.html" title="Struts Tiles 2"><span class="none"></span>Struts Tiles 2</a></li>
   <li class="nav-header">Quick Links</li>
    <li><a href="apidocs/index.html" title="Javadoc"><span class="none"></span>Javadoc</a></li>
    <li><a href="../index.html" title="Struts 1"><span class="none"></span>Struts 1</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >



<section>
<h2><a name="Creating_Templates"></a>Creating Templates</h2>

    
<p>The following examples illustrate Tiles' templating features using a
       basic template.  The template contains three elements: a title, a header,
       and a body displayed vertically.  These elements will be manipulated in
       various ways in each example.  Tiles' flexibility will be demonstrated by
       defining the template &quot;inline&quot; in a JSP page and by loading it from a
       &quot;factory&quot; defined in an XML file.</p>

    <section>
<h3><a name="Basic_Template"></a>Basic Template</h3>

    
<p>The first example shows the basic template.  There are three ways to
       define the template.  First, it can be defined anonymously in a JSP page
       by using the Tiles insert tag.  Secondly, it can be defined in a JSP
       using the Tiles definition tag.  Finally, it can be defined in an XML
       file and loaded from a factory using the Tiles insert tag.  This example
       will illustrate all three methods.  First, let's look at the output of
       the example.  Then we will examine each method.</p>

    <b>Example Output</b>
    
<div align="center" style="width:300px;border:2px solid black">
        
<table border="0" class="table table-striped" width="100%">
        
<tr class="a">
        
<td bgcolor="Blue" align="left"><b>This is the title.</b></td>
        </tr>
        
<tr class="b">
        
<td align="left"><b>This is the header</b>
        <img src="images/struts-power.gif" align="right" border="0" alt="Powerd by Struts" />
        </td>
        </tr>
        
<tr class="a">
        
<td align="left">
<div align="center"><b><i>This is the body</i></b></div>
        </td>
        </tr>
        </table>
    </div>

    
<p>First let's look at the template.  The layout.jsp file contains the
       template code.  This file does not change no matter whether the Tile
       is defined anonymously, in a JSP, or in an XML definitions file.</p>

    <b>file: layout.jsp</b>

    
<div class="source"><pre class="prettyprint">
&lt;%@ taglib uri=&quot;http://struts.apache.org/tags-tiles&quot; prefix=&quot;tiles&quot; %&gt;

&lt;table  border=&quot;2&quot;  width=&quot;300&quot;  bordercolor=&quot;Gray&quot;&gt;
  &lt;tr&gt;
    &lt;td  bgcolor=&quot;Blue&quot;&gt;&lt;strong&gt;&lt;tiles:getAsString name=&quot;title&quot;/&gt;&lt;/strong&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;tiles:insert attribute=&quot;header&quot;/&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;tiles:insert attribute=&quot;body&quot;/&gt;&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
    </pre></div>

    
<p>Next we show the template being inserted anonymously using the Tiles
       insert tag.  The insert tag is used to define the Tile and insert it in
       a single action.  The Tile is not placed in the Definitions Factory and
       is not available for later use.  The template is invoked and the
       attributes are filled in.  Notice that the title is inserted directly and
       the header and body values are included JSP pages.</p>

    <b>file: somepage.jsp </b>
    
<div class="source"><pre class="prettyprint">
&lt;%@ taglib uri=&quot;http://struts.apache.org/tags-tiles&quot; prefix=&quot;tiles&quot; %&gt;

&lt;tiles:insert template=&quot;layout.jsp&quot;&gt;
  &lt;tiles:put name=&quot;title&quot;  value=&quot;This is the title.&quot; /&gt;
  &lt;tiles:put name=&quot;header&quot; value=&quot;header.jsp&quot; /&gt;
  &lt;tiles:put name=&quot;body&quot;   value=&quot;body.jsp&quot; /&gt;
&lt;/tiles:insert&gt;
    </pre></div>

    <b>file: header.jsp </b>
    
<div class="source"><pre class="prettyprint">
&lt;strong&gt;This is the header&lt;/strong&gt;
&lt;img src=&quot;&lt;%=request.getContextPath()%&gt;/images/struts-power.gif&quot; align=&quot;right&quot; border=&quot;0&quot;/&gt;
    </pre></div>

    <b>file: body.jsp </b>
    
<div class="source"><pre class="prettyprint">
&lt;div align=&quot;center&quot;&gt;&lt;b&gt;&lt;i&gt;This is a body&lt;/i&gt;&lt;/b&gt;&lt;/div&gt;
    </pre></div>

    
<p>Now we will see the same example in a different way.  In this version the
       Tile is defined in a JSP using the Tiles definition tag.  This works very
       similarly to the anonymous version.  The only difference is that it is not
       anonymous.  Using this method the template is included and populated and
       the Tile is inserted into the Definitions Factory so that it can be used
       by other JSP pages.</p>

    <b>file: somepage.jsp </b>
    
<div class="source"><pre class="prettyprint">
&lt;%@ taglib uri=&quot;http://struts.apache.org/tags-tiles&quot; prefix=&quot;tiles&quot; %&gt;

&lt;tiles:definition id=&quot;templateDefinition&quot; template=&quot;layout.jsp&quot;&gt;
  &lt;tiles:put name=&quot;title&quot;  value=&quot;This is the title.&quot; /&gt;
  &lt;tiles:put name=&quot;header&quot; value=&quot;header.jsp&quot; /&gt;
  &lt;tiles:put name=&quot;body&quot;   value=&quot;body.jsp&quot; /&gt;
&lt;/tiles:definition&gt;
&lt;tiles:insert definition=&quot;templateDefinition&quot; /&gt;
    </pre></div>

    
<p>Using this method of defining Tiles can be very tricky.  If you define a
       Tile like this and then insert it in another page using the Tiles insert
       tag, you must make sure that JSP page will never be invoked before the
       page that defines the Tile.  The Tiles Definitions Factory is stored in
       application scope.  So if the server is restarted or the Definitions
       Factory is reloaded for any reason, a Tile defined in a JSP page is not
       reloaded until that JSP page is invoked.</p>

    
<p>The scenario above can be avoided by defining Tiles in an XML configuration
       file.  The file is loaded at servlet startup using the Tiles Servlet or
       a plugin.  The example below defines the Tile in an XML file and
       uses the Tiles insert tag in a JSP to invoke it.</p>

    <b>file: WEB-INF/tiles-defs.xml</b>
    
<div class="source"><pre class="prettyprint">
...
&lt;definition name=&quot;templateDefinition&quot; path=&quot;/layout.jsp&quot;&gt;
  &lt;put name=&quot;title&quot;  value=&quot;This is the title.&quot; /&gt;
  &lt;put name=&quot;header&quot; value=&quot;header.jsp&quot; /&gt;
  &lt;put name=&quot;body&quot;   value=&quot;body.jsp&quot; /&gt;
&lt;/definition&gt;
...
    </pre></div>

    <b>file: somepage.jsp</b>
    
<div class="source"><pre class="prettyprint">
&lt;%@ taglib uri=&quot;http://struts.apache.org/tags-tiles&quot; prefix=&quot;tiles&quot; %&gt;

&lt;tiles:insert beanName=&quot;templateDefinition&quot; /&gt;
    </pre></div>

    
<p>This is the preferred method of defining Tiles.  It ensures that all
       definitions are loaded at application startup and reduces the coupling
       between JSP pages.</p>

    </section>

    <section>
<h3><a name="Specify_Attribute_Types"></a>Specify Attribute Types</h3>

    
<p>The previous examples used the <b>put</b> tag to set
       attributes in a Tiles definition. In those examples Tiles inferred they
       attribute type.  In most cases this is fine as long as you understand the
       rules of how value types are inferred.  More on that later.  This example
       shows that you can specify the attribute type to give Tiles a hint about
       what to do with the value.</p>

    <b>file: WEB-INF/tiles-defs.xml</b>
    
<div class="source"><pre class="prettyprint">
...
&lt;definition name=&quot;templateDefinition&quot; path=&quot;/layout.jsp&quot;&gt;
  &lt;put name=&quot;title&quot;  value=&quot;Title with specified Type.&quot; type=&quot;string&quot; /&gt;
  &lt;put name=&quot;header&quot; value=&quot;header.jsp&quot; type=&quot;page&quot; /&gt;
  &lt;put name=&quot;body&quot;   value=&quot;body.jsp&quot; type=&quot;page&quot; /&gt;
&lt;/definition&gt;
...
    </pre></div>

    
<p>The above code is really no different from the first example.  Tiles
       would've inferred the types we specified.  There are several valid
       settings for the type attribute.  However, they all resolve to just
       three different types.  The type will be interpreted in one of the
       following ways.</p>

    
<ul>
        
<li><b>String.</b>  Value will be inserted directly in the
            page as text.</li>
        
<li><b>Definition.</b>  Value points to a valid Tiles definition
            that will be processed and inserted in the page.</li>
        
<li><b>Page.</b>  Value points to a JSP page that will be
            included in the current page.</li>
    </ul>

    
<p>In most cases Tiles will determine the appropriate type.  When would you
       need to specify it?  Perhaps you have an attribute that is a logo that is
       either reused or overriden for a Tile.  Tiles might interpret this value
       as a path and try to process it as a JSP page.  If you specify it as a
       String it will be inserted directly into the page.  It would also be
       useful to specify the type if the value points to a Tiles definition
       and you want to make sure Tiles doesn't interpret it as a direct
       String.</p>

    </section>

    <section>
<h3><a name="Set_Attribute_With_Tag_Body"></a>Set Attribute With Tag Body</h3>

    <b>Example Output</b>
    
<div align="center" style="width:300px;border:2px solid black">
        
<table border="0" class="table table-striped" width="100%">
        
<tr class="a">
        
<td bgcolor="Blue" align="left"><b>Test with tag body.</b></td>
        </tr>
        
<tr class="b">
        
<td align="left">
          <b>This header is inserted as body of tag</b>
        </td>
        </tr>
        
<tr class="a">
        
<td align="left">
<div align="center"><b><i>This is the body</i></b></div>
        </td>
        </tr>
        </table>
    </div>

    <b>file: WEB-INF/tiles-defs.xml</b>
    
<div class="source"><pre class="prettyprint">
...
&lt;definition name=&quot;templateDefinition&quot; path=&quot;/layout.jsp&quot;&gt;
  &lt;put name=&quot;title&quot;  value=&quot;Test with tag body.&quot; type=&quot;string&quot; /&gt;
  &lt;put name=&quot;header&quot; type=&quot;string&quot; &gt;
    &lt;strong&gt;This header is inserted as body of tag&lt;/strong&gt;
  &lt;/put&gt;
  &lt;put name=&quot;body&quot;   value=&quot;body.jsp&quot; type=&quot;page&quot; /&gt;
&lt;/definition&gt;
...
    </pre></div>
    </section>

</section>





        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2000–2023
<a href="https://github.com/weblegacy">Web-Legacy</a>
</p>
        </div>
      </div>
    </footer>
<script>
  if(anchors) {
    anchors.add();
  }
</script>
  </body>
</html>