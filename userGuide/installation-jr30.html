<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/xdoc/userGuide/installation-jr30.xml at 2022-10-11

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Struts 1 &#x2013; The Struts Framework Project - Installation - JRun 3.0</title>
    <link rel="stylesheet" href="../css/maven-base.css" />
    <link rel="stylesheet" href="../css/maven-theme.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<a href="https://www.apache.org/" id="bannerLeft"><img src="../images/asf-logo.png"  alt="Apache Software Foundation"/></a><a href="https://struts.apache.org/index.html" id="bannerRight"><img src="../images/struts.png"  alt="Apache Struts"/></a>      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2022-10-11</span>
           | <span id="projectVersion">Version: 1.4.1-SNAPSHOT</span>
      </div>
      <div class="xright"><a href="https://www.apache.org/" class="externalLink" title="Apache">Apache</a> |
<a href="https://struts.apache.org/index.html" class="externalLink" title="Struts">Struts</a>      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Struts 1</h5>
    <ul>
     <li class="none"><a href="../index.html" title="Welcome">Welcome</a></li>
     <li class="none"><a href="../learning.html" title="Learning">Learning</a></li>
     <li class="none"><a href="../roadmap.html" title="Roadmap">Roadmap</a></li>
     <li class="none"><a href="https://github.com/weblegacy/struts1/releases" class="externalLink" title="Releases">Releases</a></li>
     <li class="none"><a href="https://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks!">Thanks!</a></li>
     <li class="none"><a href="https://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsorship">Sponsorship</a></li>
    </ul>
       <h5>Documentation</h5>
    <ul>
     <li class="none"><a href="../userGuide/index.html" title="User Guide">User Guide</a></li>
     <li class="none"><a href="../faqs/index.html" title="FAQs and HOWTOs">FAQs and HOWTOs</a></li>
     <li class="none"><a href="../userGuide/release-notes.html" title="Release Notes">Release Notes</a></li>
     <li class="none"><a href="../apidocs/index.html" title="Javadoc">Javadoc</a></li>
     <li class="none"><a href="../dtddoc/index.html" title="DTDDoc">DTDDoc</a></li>
    </ul>
       <h5>Support</h5>
    <ul>
     <li class="none"><a href="https://struts.apache.org/mail.html" class="externalLink" title="User Mailing List">User Mailing List</a></li>
     <li class="none"><a href="https://issues.apache.org/jira/browse/WW" class="externalLink" title="Issue Tracker (JIRA)">Issue Tracker (JIRA)</a></li>
     <li class="none"><a href="https://cwiki.apache.org/confluence/display/WW/Home" class="externalLink" title="Wiki Pages">Wiki Pages</a></li>
    </ul>
       <h5>Components</h5>
    <ul>
     <li class="none"><a href="../struts-apps/index.html" title="Struts Apps">Struts Apps</a></li>
     <li class="none"><a href="../struts-core/index.html" title="Struts Core">Struts Core</a></li>
     <li class="none"><a href="../struts-el/index.html" title="Struts EL">Struts EL</a></li>
     <li class="none"><a href="../struts-extras/index.html" title="Struts Extras">Struts Extras</a></li>
     <li class="none"><a href="../struts-faces/index.html" title="Struts Faces">Struts Faces</a></li>
     <li class="none"><a href="../struts-scripting/index.html" title="Struts Scripting">Struts Scripting</a></li>
     <li class="none"><a href="../struts-taglib/index.html" title="Struts Taglib">Struts Taglib</a></li>
     <li class="none"><a href="../struts-tiles/index.html" title="Struts Tiles">Struts Tiles</a></li>
     <li class="none"><a href="../struts-tiles2/index.html" title="Struts Tiles2">Struts Tiles2</a></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="../project-info.html" title="Project Information">Project Information</a></li>
     <li class="collapsed"><a href="../project-reports.html" title="Project Reports">Project Reports</a></li>
    </ul>
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">


    
        <a name="installation"></a><section id="installation">
<h2><a name="a6.2_Installation"></a>6.2 Installation</h2>
            <a name="Containers"></a><section id="Containers">
<h3><a name="Installing_Struts_with_your_servlet_container"></a>Installing Struts with your servlet container</h3>

                <section id="jrun">
<h4 id="jrun">JRUN 3.0 SP2A, VERSION 3.02A.11614</h4>

                <b>Tested with: Microsoft IIS 5.0, Windows 2000</b>

                </section><section>
<h4><a name="Important_Note:"></a>Important Note:</h4>

                
<p>At the moment, JRun is not fully compliant with the JSP
                    1.1/1.2
                    specification.</p>

                
<p>Specifically, the automatic type conversions for custom tag
                    parameters
                    specified in &quot;Issue 7&quot; of the JSP 1.1 Errata and in the
                    JSP 1.2 Proposed
                    Final Draft have not yet been implemented.</p>

                
<p>As it stands, JSP pages that make use of Struts taglibs
                    whose parameters
                    require conversion (such as booleans) will not compile
                    under JRun. This
                    includes the Struts Example Application. Attempting to run
                    the example
                    application will result in an exception similar to the
                    following being
                    thrown:</p>

                
<div>
<pre>
                    /struts-example/index.jsp:

                    javax.servlet.ServletException: Compilation error
                    occurred:

                    allaire.jrun.scripting.DefaultCFE:

                    Errors reported by compiler:
                    c:/JRun/servers/default/Struts
                    Example/WEB-INF/jsp/jrun__index2ejspa.java:41:1:41:27:

                    Error: No match was found for method
                    &quot;setLocale(java.lang.String)&quot;.
                </pre></div>

                
<p>(For more details see refer to:
                    <br />
                    <a class="externalLink" href="http://www.mail-archive.com/struts-user@jakarta.apache.org/msg01860.html">
                        http://www.mail-archive.com/struts-user@jakarta.apache.org/msg01860.html</a>
                    )
                </p>

                
<p>The following instructions describe how to install the
                    Struts Example
                    Application under JRun. A subsequent section describes how
                    the Struts Example
                    Application can be patched to work with Struts</p>

                
<p>The following instructions assume the following:</p>

                
<ul>
                    
<li>JRun has been installed and integrated with the web
                        server of choice.</li>

                    
<li>$APP_SERVER_NAME is the name of the application server
                        used to host the
                        application. (When JRun is first installed, it creates
                        an application
                        server called JRun Default Server).</li>

                    
<li>$APP_SERVER_DIR is the directory used to hold
                        applications hosted by
                        $APP_SERVER_NAME. For the JRun Default Server, the
                        directory is
                        $JRUN_HOME/servers/default where $JRUN_HOME is the
                        directory where
                        JRun is installed.</li>
                </ul>

                </section><section>
<h4><a name="Installing_the_struts_example_application"></a>Installing the struts example application</h4>

                
<ul>
                    
<li>Login to the JRun Management Console.</li>

                    
<li>On the left pane, select $APP_SERVER_NAME. A page
                        showing the
                        current server status will be shown on the right
                        pane.</li>

                    
<li>On the right pane, click on the WAR Deployment link. A
                        page
                        containing a list of the currently deployed web
                        applications will be
                        shown.</li>

                    
<li>On the right pane, click on Deploy an Application.
                        Complete the Web
                        Application Information form as follows:

                        
<ul>
                            
<li>Servlet War File or Directory: Enter the full
                                path where
                                struts-example.war is found or click on Browse
                                to select
                                the path.</li>
                            
<li>JRun Server Name: $APP_SERVER_NAME</li>
                            
<li>Application Name: Struts Example</li>
                            
<li>Application Hosts: All Hosts</li>
                            
<li>Application URL: /struts-example</li>
                            
<li>Application Deploy Directory: will default to
                                $APP_SERVER_NAME/Struts Example (or the name
                                as specified for
                                Application Name).</li>
                        </ul>
                    </li>

                    
<li>Once the form is complete, click on the Deploy
                        button.</li>

                    
<li>If deployment is successful, restart the application
                        server by
                        clicking on
                        <code>$APP_SERVER_NAME</code>
                        on the left pane. A page showing the
                        current server status will be shown on the right pane.
                        Click the
                        Restart Server button to restart the application
                        server.
                    </li>

                    
<li>Test the sample application by using the following URL
                        in the
                        browser:
                        <br />
                        <code>http://hostname/struts-example/index.jsp</code>
                        <br />
                        The struts-documentation.war can be installed using
                        the same
                        procedure.
                    </li>
                </ul>

                </section><section>
<h4><a name="Installing_unpacked_web_applications"></a>Installing unpacked web applications</h4>

                
<p>The above steps should be followed for applications
                    deployed as
                    <code>*.war</code>
                    files.
                </p>

                
<p>For unpacked web applications, configuration involves the
                    following steps:</p>

                
<ul>
                    
<li>From the JRun Management Console, select
                        <code>$APP_SERVER_NAME</code>
                        (on the
                        left pane) and click on WAR Deployment (on the right
                        pane).
                    </li>

                    
<li>On the right pane, click on Create an Application and
                        complete the
                        Web Application Information form as follows:</li>

                    
<li>JRun Server Name: $APP_SERVER_NAME

                        
<ul>
                            
<li>Application Name: myApplication</li>
                            
<li>Application Hosts: All Hosts</li>
                            
<li>Application URL: /myApplication</li>
                            
<li>Application Deploy Directory: will default to
                                <br />
                                <code>$APP_SERVER_NAME/myApplication</code>
                            </li>
                        </ul>
                    </li>

                    
<li>Click on Create to submit the form.</li>

                    
<li>Once the web application is created, install and
                        configure the struts
                        components (struts.jar, struts*.tld, etc) for the web
                        application under
                        <code>$APP_SERVER_NAME/myApplication/WEB-INF</code>
                    </li>

                    
<li>Install the remaining components of the application:
                        .class files,
                        JSP pages,.properties files etc as required.</li>

                    
<li>To configure the extension mapping of the request URI
                        (ie *.do) to
                        the action servlet, expand
                        <code>$APP_SERVER_NAME</code>
                        on the left pane, expand
                        the Web Applications branch and click on
                        myApplication. The right pane
                        will display the configuration options for
                        myApplication. Click on
                        Servlet URL Mappings. A list of existing mappings will
                        be shown. Click
                        the Edit button and create the following entry:

                        
<ul>
                            
<li>Virtual Path/Extension: *.do</li>
                            
<li>Servlet Invoked: action</li>
                        </ul>
                    </li>

                    
<li>Click on the Update button to save the changes.</li>
                    
<li>Restart the application server.</li>
                    
<li>The application should now be accessible from the
                        browser.</li>
                </ul>

                
<p>The JRun application server will need to be restarted each
                    time one of the
                    following changes are made to the web application:</p>

                
<ul>
                    
<li>
                        <code>.class</code>
                        or
                        <code>.jar</code>
                        files are modified
                    </li>
                    
<li>
                        <code>.properties</code>
                        files are modified
                    </li>
                    
<li>
                        <code>.xml</code>
                        files are modified
                    </li>
                </ul>

                </section><section>
<h4><a name="Patching_the_struts_example_application"></a>Patching the struts example application</h4>

                
<p>As mentioned at the beginning of these notes, the Struts
                    Example Application
                    will not run under JRun without modification. The
                    following changes will need
                    to be made:</p>

                
<ul>
                    
<li>index.jsp, logon.jsp: Change &lt;html:html
                        locale=&quot;true&quot;&gt; to
                        <br />
                        &lt;html:html locale=&lt;%= true %&gt;&gt;
                    </li>
                    
<li>logon.jsp: Change &lt;html:html redisplay=&quot;true&quot;&gt; to
                        <br />
                        &lt;html:html redisplay=&lt;%= true %&gt;&gt;
                    </li>
                    
<li>registration.jsp, subscription.jsp: Change all
                        instances of filter=&quot;true&quot; to
                        <br />
                        filter=&lt;%= true %&gt;
                    </li>
                </ul>
                <hr />
                
<p>Back to
                    <a href="installation.html#Containers">Installation</a>
                </p>
            </section></section>
        </section>
    

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2000&#x2013;2022<a href="https://github.com/weblegacy">Web-Legacy</a>.
.      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>