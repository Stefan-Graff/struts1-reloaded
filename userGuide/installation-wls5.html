<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/xdoc/userGuide/installation-wls5.xml at 2023-11-03
 | Rendered using Apache Maven Fluido Skin 1.12.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Struts 1 &#x2013; The Struts Framework Project - Installation - Weblogic 5.1
            sp8</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.12.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.12.0.min.js"></script>
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="https://www.apache.org/" id="bannerLeft"><img src="../images/asf-logo.png"  alt="Apache Software Foundation" style="" /></a></div>
          <div class="pull-right"><a href="https://struts.apache.org/index.html" id="bannerRight"><img src="../images/struts.png"  alt="Apache Struts" style="" /></a></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-11-03<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.4.5</li>
        <li class="pull-right"><span class="divider">|</span>
<a href="https://struts.apache.org/index.html" class="externalLink" title="Struts">Struts</a></li>
        <li class="pull-right"><a href="https://www.apache.org/" class="externalLink" title="Apache">Apache</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Struts 1</li>
    <li><a href="../index.html" title="Welcome"><span class="none"></span>Welcome</a></li>
    <li><a href="../learning.html" title="Learning"><span class="none"></span>Learning</a></li>
    <li><a href="../roadmap.html" title="Roadmap"><span class="none"></span>Roadmap</a></li>
    <li><a href="https://github.com/weblegacy/struts1/releases" class="externalLink" title="Releases"><span class="none"></span>Releases</a></li>
    <li><a href="https://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks!"><span class="none"></span>Thanks!</a></li>
    <li><a href="https://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsorship"><span class="none"></span>Sponsorship</a></li>
   <li class="nav-header">Documentation</li>
    <li><a href="../userGuide/index.html" title="User Guide"><span class="none"></span>User Guide</a></li>
    <li><a href="../faqs/index.html" title="FAQs and HOWTOs"><span class="none"></span>FAQs and HOWTOs</a></li>
    <li><a href="../userGuide/release-notes.html" title="Release Notes"><span class="none"></span>Release Notes</a></li>
    <li><a href="../apidocs/index.html" title="Javadoc"><span class="none"></span>Javadoc</a></li>
    <li><a href="../dtddoc/index.html" title="DTDDoc"><span class="none"></span>DTDDoc</a></li>
   <li class="nav-header">Support</li>
    <li><a href="https://struts.apache.org/mail.html" class="externalLink" title="User Mailing List"><span class="none"></span>User Mailing List</a></li>
    <li><a href="https://issues.apache.org/jira/browse/WW" class="externalLink" title="Issue Tracker (JIRA)"><span class="none"></span>Issue Tracker (JIRA)</a></li>
    <li><a href="https://cwiki.apache.org/confluence/display/WW/Home" class="externalLink" title="Wiki Pages"><span class="none"></span>Wiki Pages</a></li>
   <li class="nav-header">Components</li>
    <li><a href="../struts-apps/index.html" title="Struts Apps"><span class="none"></span>Struts Apps</a></li>
    <li><a href="../struts-core/index.html" title="Struts Core"><span class="none"></span>Struts Core</a></li>
    <li><a href="../struts-el/index.html" title="Struts EL"><span class="none"></span>Struts EL</a></li>
    <li><a href="../struts-extras/index.html" title="Struts Extras"><span class="none"></span>Struts Extras</a></li>
    <li><a href="../struts-faces/index.html" title="Struts Faces"><span class="none"></span>Struts Faces</a></li>
    <li><a href="../struts-scripting/index.html" title="Struts Scripting"><span class="none"></span>Struts Scripting</a></li>
    <li><a href="../struts-taglib/index.html" title="Struts Taglib"><span class="none"></span>Struts Taglib</a></li>
    <li><a href="../struts-tiles/index.html" title="Struts Tiles"><span class="none"></span>Struts Tiles</a></li>
    <li><a href="../struts-tiles2/index.html" title="Struts Tiles2"><span class="none"></span>Struts Tiles2</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >


    
        <a name="installation"></a><section id="installation">
<h2><a name="a6.2_Installation"></a>6.2 Installation</h2>
            <a name="Containers"></a><section id="Containers">
<h3><a name="Installing_Struts_with_your_servlet_container"></a>Installing Struts with your servlet container</h3>

                <section id="wls5">
<h4 id="wls5">Weblogic 5.1 (service pack 8)</h4>
                
<ul>
                    
<li>Obtain and install the Xerces XML parser (problems
                        have been reported with
                        the Sun reference implementation). Put xerces.jar in
                        your WebLogic system
                        path.</li>
                    
<li>Obtain and unpack the Struts binary distribution (this
                        procedure assumes
                        it was extracted to
                        <code>c:\jakarta-struts</code>
                        ).
                    </li>
                    
<li>Add an entry to weblogic.properties for each of the
                        Struts web applications
                        that you would like to configure. For example, to make
                        the struts-example
                        application available, add the following line to
                        weblogic.properties:
                        <br />
                        <code>weblogic.httpd.webApp.strutsexample=
                            <br />
                            c:/jakarta-struts/webapps/struts-example.war
                        </code>
                    </li>
                    
<li>You do not need to include struts.jar or any of the
                        application specific
                        classes in the WebLogic classpath, since this will be
                        done automatically (unless
                        deploying an unpacked web archive- see below).</li>
                    
<li>Start WebLogic server and point your web browser to
                        the struts application.
                        For example, to connect to the example application
                        added in step 3:
                        <br />
                        <code>http://localhost:7001/strutsexample</code>
                    </li>
                    
<li>This example application depends on the Struts
                        specific resource file ApplicationResources.properties
                        to be present on the classpath. However, WebLogic only
                        extracts *.class files
                        from the archive so this file will not be found,
                        resulting in an error the
                        first time it is needed- something similar to:
                        javax.servlet.ServletException:
                        runtime failure in custom tag 'message'. Steps 6 &amp;
                        7 will need to be performed
                        for this application, and any other that relies on
                        ApplicationResources.properties.</li>
                    
<li>Extract ApplicationResources.properties from the *.war
                        file, and manually
                        copy it to the respective package in the _tmp_war_
                        directory WebLogic created
                        for this application. Again referring to the
                        struts-example application, this
                        would be:
                        <br />
                        <code>
                            c:\jakarta-struts\webapps\WEB-INF\_tmp_war_strutsexample</code>
                    </li>
                    
<li>Restart WebLogic. You will now be able to run the
                        application:
                        <br />
                        <code>http://localhost:7001/strutsexample</code>
                    </li>
                </ul>
                
<p>The above steps should be followed for applications
                    deployed as *.war files.
                    For unpacked web applications, configuration involves
                    adding both
                    <code>struts.jar</code>
                    and
                    <code>/WEB-INF/classes</code>
                    to the WebLogic classpath. For this reason,
                    I would suggest deploying applications as war files to
                    WebLogic. However, the
                    same example application can be successfully deployed in
                    extracted format by
                    modifying weblogic.properties (assuming the war was
                    extracted to directory webapps/struts-example):
                </p>
                
<p>
                    <code>weblogic.httpd.webApp.strutsexample=
                        <br />
                        c:/jakarta-struts/webapps/struts-example/
                    </code>
                </p>
                
<p>And starting WebLogic with the updated WebLogic classpath.
                    For example:</p>
                
<p>
                    <code>c:\jdk1.3\bin\java -ms16m -mx64m
                        <br />
                        -classpath c:\weblogic\lib\weblogic510sp8boot.jar;
                    </code>
                </p>
                <hr />
                </section><section>
<h4><a name="Additional_Recommendations"></a>Additional Recommendations</h4>
                
<ul>
                    
<li>Servlet and JSP-Reloading should be turned off. First,
                        you pay a performance
                        penalty. Depending on the number of JSPs, the number
                        of requests and the
                        configured checking interval, the server will slow
                        down. Second, with JSP- and
                        Servlet reloading, one opens the door for various
                        Weblogic classloader problems,
                        that are difficult to diagnose, difficult to handle
                        and often lead to lost
                        HTTP-sessions.</li>
                    
<li>Set the name of the
                        <code>sessionid</code>
                        to
                        <code>JSESSIONID</code>
                        , if cookies are used for session
                        tracking and to jsessionid, if sessions are URL-based.
                        (There are additional
                        problems related to URL-based sessions, caused from
                        BEA's way to encode the session
                        id (J2EE-incompatible) as query-param. Especially &lt;bean:include&gt;
                        will not work with
                        URL-based sessions yet. However, using the correct
                        session name solves at least some
                        problems.)
                    </li>
                    
<li>Configure the JSP-Servlet registration in
                        <code>weblogic.properties</code>
                        for
                        maximum J2EE-compliance and/or for maximum
                        performance.
                    </li>
                </ul>
                
<p>The JSP-Servlet supports some initialization parameters
                    that can be customized to get
                    best performance, maximum compliance or (as shown below)
                    easier debugging:</p>
                
<div>
<pre>
                    weblogic.httpd.initArgs.*.jsp=\
                    pageCheckSeconds=-1,\
                    setEmptyStrings=false,\
                    compileCommand=./_jspCompiler_.cmd,\
                    workingDir=/weblogic/myserver/tmp_classfiles,\
                    keepgenerated=true,\
                    debug=true,\
                    verbose=true
                </pre></div>
                
<p>In the above example, the batch file (
                    <code>_jspCompiler_.cmd</code>
                    ) invokes jikes
                    which results dramatically reduced startup times (jikes is
                    about three times faster
                    than javac.) The batchfile contains only a single line:
                </p>

                
<div>
<pre>@jikes -g -nowarn %*</pre></div>

                
<p>The next configuration could be used when all tests have
                    been done and speed is the
                    major concern ...</p>

                
<div>
<pre>
                    weblogic.httpd.initArgs.*.jsp=\
                    pageCheckSeconds=-1,\
                    setEmptyStrings=false,\
                    compileCommand=./_jspCompiler_.cmd,\
                    workingDir=/weblogic/myserver/tmp_classfiles,\
                    keepgenerated=false,\
                    debug=false,\
                    verbose=false
                </pre></div>

                
<p>... together with ...</p>

                
<div>
<pre>@jikes -O -nowarn %*</pre></div>

                
<p>Weblogic supports similar settings through
                    <code>&lt;context-params&gt;</code>
                    in
                    <code>web.xml</code>
                    (Please read the latest documentation at the BEA website
                    for details.)
                </p>
                
<p>For additional issues, see also
                    <a class="externalLink" href="http://www.mail-archive.com/struts-dev@jakarta.apache.org/msg00284.html">
                        More
                        fixes for WLS 5.1 SP8</a>
                    from the Struts Developer mailing list
                </p>
                <hr />
                
<p>Back to
                    <a href="installation.html#Containers">Installation</a>
                </p>
            </section></section>
        </section>
    

        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2000–2023
<a href="https://github.com/weblegacy">Web-Legacy</a>
</p>
        </div>
      </div>
    </footer>
<script>
  if(anchors) {
    anchors.add();
  }
</script>
  </body>
</html>