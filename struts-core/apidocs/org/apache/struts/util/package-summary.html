<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>org.apache.struts.util (Struts Core 1.5.0-RC2 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.struts.util">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#package">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Package:</p>
<ul>
<li><a href="#package-description">Description</a></li>
<li><a href="#related-package-summary">Related Packages</a></li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package org.apache.struts.util" class="title">Package org.apache.struts.util</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">org.apache.struts.util</span></div>
<section class="package-description" id="package-description">
<div class="block">The Utilities package provides a variety of families of classes,
 to solve problems that are commonly encountered in building web applications.
 <br><br>
 <a id="doc.Description"></a>

 <div align="center">
     <a href="#doc.Intro">[Introduction]</a>
     <a href="#doc.Beans">[Beans]</a>
     <a href="#doc.Utilities">[Servlet Utilities]</a>
     <a href="#doc.Messages">[Message Resources]</a>
 </div>

 <hr>

 <a id="doc.Intro"></a>

 <h3 id="introduction-heading">Introduction</h3>

 <p>The Struts Utilities Package offers several families
    of classes that assist in solving commonly encountered problems when
    building
    web applications. Most of the classes in this package do not rely on the
    controller servlet framework, or the custom tag libraries, so they are
    also
    suitable for general Java application programming. The following families
    are included:</p>
 <ul>
     <li><a href="#doc.Beans">Beans</a> - A small set of utility beans useful
         for
         encapsulating form elements.</li>
     <li><a href="#doc.Utilities">Servlet Utilities</a> - A set of classes
         useful
         for working with servlet-related classes.</li>
     <li><a href="#doc.Messages">Message Resources</a> - A family of classes
         that
         features access to internationalized message strings based on a
         message
         key coupled with a <code>java.util.Locale</code> object representing a
         particular user's preferred language.</li>
 </ul>

 <hr>

 <a id="doc.Beans"></a>

 <h3 id="beans-heading">Beans</h3>

 <p> The <code>ImageButtonBean</code> is a simple JavaBean to encapsulate the
     request parameters sent for an HTML input element of type image. The
     <code>LabelValueBean</code> is a simple JavaBean to represent label-value
     pairs, especially useful for html option elements.
 </p>

 <hr>

 <a id="doc.Utilities"></a>

 <h3 id="servlet-utilities-heading">Servlet Utilities</h3>

 <p> The <code>RequestUtils</code> is a general purpose utility methods
     related to processing a servlet request. The <code>ResponseUtils</code>
     is a general purpose utility methods related to generating a servlet
     response. The <code>ServletContextWriter</code> is a PrintWriter
     implementation that uses the logging facilities of a
     <code>jakarta.servlet.ServletContext</code> to output its results.
 </p>

 <hr>

 <a id="doc.Messages"></a>

 <h3 id="message-resources-heading">Message Resources</h3>

 <h5 id="background-heading">Background</h5>

 <p>Modern applications often include the requirement to support multiple
     languages, for users who prefer to interact in a language other than the
     default language configured on the server platform. In addition, sentences
     often need to be constructed, with dynamic content whose placement in the
     message depends on the standard sentence structure in that particular
     language.</p>

 <p>The standard Java platform includes a family of classes
     (<code>java.util.ResourceBundle</code>) designed to support looking up
     message
     strings based on a standard "key". The resource bundle classes
     automatically
     access a Java class (or properties file) that is named with a naming
     convention that includes the Locale to which messages in that class (or
     file)
     pertain. However, this selection is based only on the default Locale of
     the
     server platform, and cannot be adjusted on a per-user basis as required
     for an
     internationalized web application.</p>

 <p>Struts includes a family of classes
     (<code>org.apache.struts.util.MessageResources</code>) that extends the
     basic
     approach to looking up message strings by key, allowing you to optionally
     specify a Locale along with the key. In this way, you can build
     applications
     that let your users select which Locale they wish to operate within, and
     then
     look up messages in that language - using the same message keys no matter
     what
     language is selected.</p>

 <p>In addition to supporting dynamic selection of a Locale for message lookup,
     the <code>MessageResources</code> family of classes optionally allow you
     to
     specify up to four parameter replacement objects, which are used to
     replace the
     parameter placeholders "{0}" through "{3}" in the retrieved message. This
     replacement uses the facilities of the standard Java
     <code>java.text.MessageFormat</code> class, which supports many extended
     formatting capabilities as well.</p>

 <p>For more information about internationalized messages, consult the
     following
     resources in your Java Development Kit documentation bundle:</p>
 <ul>
     <li><em>Internationalization Info</em> - General information on Java's
         standard
         support for internationalized applications can be found at
         <code>&lt;$JAVA_HOME/docs/guide/internat/index.html&gt;</code>.
         The "Internationalization Overview" section includes useful
         information
         about Locales, localized resources, message formatting, and other
         relevant topics.</li>
     <li><em>Internationalization Tutorial</em> - The Java Language Tutorial
         has a
         comprehensive trail covering internationalization, available at:
         <a href="https://docs.oracle.com/javase/tutorial/i18n/index.html">
             https://docs.oracle.com/javase/tutorial/i18n/index.html</a>.</li>
     <li><em>Javadoc APIs</em> - You will want to consult the Javadoc API
         documentation for the following standard Java classes:
         <ul>
             <li><code>java.text.MessageFormat</code>
             <li><code>java.util.ResourceBundle</code>
             <li><code>java.util.PropertyResourceBundle</code>
             <li><code>java.util.Properties</code> - See the documentation for
                 the
                 <code>load()</code> method for the valid syntax of properties
                 files
                 that you prepare.</li>
         </ul></li>
 </ul>

 <h5 id="using-the-standard-messageresources-implementation-heading">Using the Standard MessageResources Implementation</h5>

 <p>The standard <code>MessageResources</code> implementation provided by the
     Struts library uses Java properties files to initialize message strings,
     in a
     manner very similar to that supported by the
     <code>java.util.PropertyResourceBundle</code> class. The following steps
     are
     required to use these facilities in your Java application.</p>

 <p>First, prepare a Java properties file for each language (or Locale) in
     which
     you wish to support your messages. The filenames you use must conform to
     the
     naming convention for property resource bundles, as described in the
     documentation referenced above. Be sure you use the same message keys in
     each
     file to identify the same message.</p>

 <p>For example, you might prepare files in French, Spanish, and English that
     contain language-specific versions of the word "Hello". The French file
     would
     be named <code>Messages_fr.properties</code> and contain the following:
 </p>
 <pre>
    hi=Bonjour</pre>

 <p>while the Spanish and English files would be named
     <code>Messages_es.properties</code> and <code>
     Messages_en.properties</code>
     respectively. The corresponding message string definitions would say
     <code>hi=Hola</code> and <code>hi=Hello</code> in these files.</p>

 <p>Second, place these properties files into the class path for your
     application, exactly as you would with class files themselves. The name
     actually used to load resources will look like a fully qualified Java
     class
     name (with appropriate package prefixes), so the file should be nested
     inside
     a directory structure that matches the packaging (either in an unpacked
     directory, or within a JAR file, as appropriate). For example, assume you
     place directory "foo" on your classpath, and stored the above properties
     files
     in directory "foo/com/mycompany/mypackage". (If you were using a JAR file
     like
     "foo.jar" instead, the files would be in directory
     "com/mycompany/mypackage"
     within the JAR file).

 <p>Third, initialize a <code>MessageResources</code> object that corresponds
     to the set of properties files for a particular name, within a particular
     package. The easiest way to do this is to initialize a variable in your
     main
     application class, like this:</p>
 <pre>
    public static MessageResources messages =
    MessageResources.getMessageResources("com.mycompany.mypackage.Messages");</pre>

 <p>Note that the "com.mycompany.mypackage" part of the name matches the
     package
     directory into which you placed your properties files, and "Messages" is
     the
     filename prefix for the particular family of properties files supported by
     this
     <code>MessageResources</code> instance. Depending on your development
     process,
     you might find it convenient to store all message strings for an entire
     application in a single properties file family, or to have several
     families -
     in Struts, for example, there is a family of properties files for each
     Java
     package.</p>

 <p>To access a message string with a particular Locale, execute a statement
     like this:</p>
 <pre>
    Locale locale = ... select the locale to be used ...
    String message = messages.getMessage(locale, "hi");</pre>

 <p>In this case, the variable <code>message</code> will contain the message
     string corresponding to the key "hi", in the language that corresponds to
     the
     locale that was selected.</p>

 <p>For an example of message formatting with replaceable parameters, assume
     that the message strings looked like this, instead (only the English
     version
     is shown - corresponding changes would be made in the other files):</p>
 <pre>
    hi=Hello {0}</pre>

 <p>Now, you can personalize the retrieved message like this:</p>
 <pre>
    Locale locale = ... select the locale to be used ...
    String name = "Joe";
    String message = messages.getMessage(locale, "hi", name);</pre>

 <p>and the marker "{0}" will have been replaced by the specified name (Joe),
     no matter which language is in use. See the JavaDoc API documentation for
     the
     <code>java.text.MessageFormat</code> class for more advanced uses of the
     parameter replacement mechanism.</p>

 <h5 id="developing-your-own-messageresources-implementation-heading">Developing Your Own MessageResources Implementation</h5>

 <p>In the above example, we were using the default
     <code>MessageResources</code> implementation supplied by Struts, which
     uses
     property files to store the message strings. It is also possible to create
     customized mechanisms to retrieve messages (such as loading them on demand
     from a database). The steps required are as follows:</p>
 <ul>
     <li>Create a customized subclass of
         <code>org.apache.struts.util.MessageResources</code> that implements
         message lookup operations as you require.</li>
     <li>Create a customized subclass of
         <code>org.apache.struts.util.MessageResourcesFactory</code> that will
         create an instance of your custom <code>MessageResources</code> class
         when the <code>createResources</code> method is called. Note that the
         "config" argument to this method can be used to select families of
         messages in any manner appropriate to your needs - you are not
         required
         to emulate the "fully qualified Java class name" approach that is used
         by the standard <code>PropertyMessageResourcesFactory</code> class.
     </li>
     <li>Tell the <code>MessageResourcesFactory</code> class the name of the
         customized <code>MessageResourcesFactory</code> implementation to use
         when creating new factory instances.</li>
     <li>Create a new factory instance.</li>
     <li>Ask the new factory instance to create a <code>MessageResources</code>
         instance for you.</li>
 </ul>

 <p>A code example that illustrates this technique is:</p>
 <pre>
    MessageResourcesFactory.setFactoryClass("com.mycompany.mypkg.MyFactory");
    MessageResourcesFactory factory = MessageResourcesFactory.createFactory();
    MessageResources resources =
    factory.createResources("configuration information");</pre>

 <p>Once you have created your custom MessageResources instance, you utilize it
     to access message strings (with or without parameter replacement objects),
     exactly as we illustrated with the standard implementation in the previous
     section.</p>

 <h5 id="using-messageresources-with-struts-heading">Using MessageResources With Struts</h5>

 <p>If your application uses the Struts controller servlet, you can optionally
     configure Struts to load an application-specific message resources
     instance for
     you, and make it available as a servlet context attribute (in JSP terms,
     an
     application-scope bean). This mechanism is managed by setting the
     following
     servlet initialization parameters in the web application deployment
     descriptor:
 </p>
 <ul>
     <li><strong>application</strong> - The configuration string that will be
         passed to the <code>createResources()</code> method of the message
         resources factory, in order to identify the family of resources to be
         supported. If you use the standard message resources factory, this
         must
         be the base fully qualified name of the property resources files used
         to contain these messages, as illustrated above.</li>
     <li><strong>factory</strong> - Fully qualified Java class name of the
         <code>MessageResourcesFactory</code> to be used. By default, the
         standard
         implementation provided by Struts
         (<code>org.apache.struts.util.PropertyMessageResourcesFactory</code>)
         will be used.</li>
 </ul>

 <p>Struts provides several JSP custom tags that assume the existence of a
     <code>java.util.Locale</code> attribute in the user's session, under the
     key
     named by the constant string value of <code>Action.LOCALE_KEY</code>. Your
     own
     application logic can set this attribute at any time, or you can ask
     Struts to
     set it automatically (if not already set) based on the
     <code>Accept-Language</code> HTTP header included with the request. There
     are
     two mechanisms by which you request Struts to perform this service:</p>
 <ul>
     <li>To have this service performed on every request submitted to the
         controller
         servlet, set the servlet initialization parameter <code>locale</code>
         to
         the value <code>true</code> in the application deployment descriptor.
     </li>
     <li>To have this service performed by a JSP page when it is accessed
         directly
         by a user, utilize a <code>&lt;form:html ... locale="true" ...
         /&gt;</code>
         tag at the top of each page.</li>
 </ul></div>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="../package-summary.html">org.apache.struts</a></div>
<div class="col-last even-row-color">
<div class="block">Global data for the entire Struts Framework.</div>
</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button><button id="class-summary-tab5" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab5', 2)" class="table-tab">Exception Classes</button></div>
<div id="class-summary.tabpanel" role="tabpanel">
<div class="summary-table two-column-summary" aria-labelledby="class-summary-tab0">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ImageButtonBean.html" title="class in org.apache.struts.util">ImageButtonBean</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A simple JavaBean to encapsulate the request parameters sent for an HTML
 input element of type image.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="IteratorAdapter.html" title="class in org.apache.struts.util">IteratorAdapter</a>&lt;E&gt;</div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Utility method for converting Enumeration to an Iterator class.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="LabelValueBean.html" title="class in org.apache.struts.util">LabelValueBean</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A simple JavaBean to represent label-value pairs.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="MessageResources.html" title="class in org.apache.struts.util">MessageResources</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">General purpose abstract class that describes an API for retrieving
 Locale-sensitive messages from underlying resource locations of an
 unspecified design, and optionally utilizing the <code>MessageFormat</code>
 class to produce internationalized messages with parametric replacement.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="MessageResourcesFactory.html" title="class in org.apache.struts.util">MessageResourcesFactory</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Factory for <code>MessageResources</code> instances.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab5"><a href="ModuleException.html" title="class in org.apache.struts.util">ModuleException</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab5">
<div class="block">Used for specialized exception handling.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ModuleUtils.html" title="class in org.apache.struts.util">ModuleUtils</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">General purpose utility methods related to module processing.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="PropertyMessageResources.html" title="class in org.apache.struts.util">PropertyMessageResources</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Concrete subclass of <code>MessageResources</code> that reads message keys
 and corresponding strings from named property resources in a <b><i>similar</i></b> manner
 (see <i>modes</i> below) that <code>java.util.PropertyResourceBundle</code> does.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="PropertyMessageResourcesFactory.html" title="class in org.apache.struts.util">PropertyMessageResourcesFactory</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Factory for <code>PropertyMessageResources</code> instances.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="RequestUtils.html" title="class in org.apache.struts.util">RequestUtils</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">General purpose utility methods related to processing a servlet request
 in the Struts controller framework.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ResponseUtils.html" title="class in org.apache.struts.util">ResponseUtils</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">General purpose utility methods related to generating a servlet response in
 the Struts controller framework.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="ServletContextWriter.html" title="class in org.apache.struts.util">ServletContextWriter</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A PrintWriter implementation that uses the logging facilities of a
 <code>jakarta.servlet.ServletContext</code> to output its results.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="TokenProcessor.html" title="class in org.apache.struts.util">TokenProcessor</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">TokenProcessor is responsible for handling all token related functionality.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="WildcardHelper.html" title="class in org.apache.struts.util">WildcardHelper</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">This class is an utility class that perform wilcard-patterns matching and
 isolation taken from Apache Cocoon.</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2000&#x2013;2024 <a href="https://github.com/weblegacy">Web-Legacy</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>